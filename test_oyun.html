<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Kart UstasÄ± Online | SONSUZ.AY</title>
    <style>
        body { background: #0d0d1e; color: #fff; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
        h1 { color: #39FF14; text-shadow: 0 0 10px #39FF14; }
        
        /* Ä°nternet HatasÄ± Paneli */
        #error-screen { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.9); display: none; flex-direction: column; 
            align-items: center; justify-content: center; z-index: 9999; 
        }
        .retry-btn { background: #39FF14; color: #000; padding: 15px 30px; border-radius: 50px; font-weight: bold; cursor: pointer; border: none; margin-top: 20px; }

        #game-board { 
            display: grid; grid-template-columns: repeat(4, 100px); gap: 15px; 
            justify-content: center; margin-top: 30px; 
        }
        .card {
            width: 100px; height: 140px; background: #1a1a38; border-radius: 8px;
            cursor: pointer; position: relative; transform-style: preserve-3d;
            transition: transform 0.4s; border: 2px solid #39FF14;
        }
        .card.flipped { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 6px; }
        .card-back { background: #2a2a5a; display: flex; align-items: center; justify-content: center; font-size: 40px; }
        .card-front { transform: rotateY(180deg); background-size: contain; background-repeat: no-repeat; background-position: center; background-color: white; }
    </style>
</head>
<body>

    <div id="error-screen">
        <h2 style="color: #ff0000;">âš ï¸ BAÄLANTI HATASI</h2>
        <p>GÃ¶rselleri indirmek iÃ§in internet baÄŸlantÄ±sÄ± gerekiyor.</p>
        <button class="retry-btn" onclick="checkConnection()">TEKRAR DENE</button>
    </div>

    <h1>ğŸƒ KART USTASI ONLINE</h1>
    <p id="status-msg">GÃ¶rseller Google Ã¼zerinden indiriliyor...</p>
    <div id="game-board"></div>

    <script>
        // Ä°NTERNET KONTROLÃœ
        function checkConnection() {
            if (!navigator.onLine) {
                document.getElementById('error-screen').style.display = 'flex';
                return false;
            } else {
                document.getElementById('error-screen').style.display = 'none';
                return true;
            }
        }

        // Oyun BaÅŸlatma
        if (checkConnection()) {
            initGame();
        }

        function initGame() {
            const board = document.getElementById('game-board');
            // GÃœVENÄ°LÄ°R VE DOÄRULANMIÅ LÄ°NK (Wikimedia Ã¼zerinden Ã¶rnek set)
            const baseURL = "https://raw.githubusercontent.com/htdebeer/PlayingCards/master/PNG-cards-1.3/";
            const cardTypes = [
                "ace_of_hearts", "king_of_spades", "queen_of_diamonds", "jack_of_clubs",
                "10_of_hearts", "ace_of_spades", "king_of_diamonds", "queen_of_clubs"
            ];
            
            const deck = [...cardTypes, ...cardTypes].sort(() => Math.random() - 0.5);

            deck.forEach(type => {
                const card = document.createElement('div');
                card.className = 'card';
                const imgURL = `${baseURL}${type}.png`;

                card.innerHTML = `
                    <div class="card-back">ğŸŒ™</div>
                    <div class="card-front" style="background-image: url('${imgURL}')"></div>
                `;
                
                // GÃ–RSEL YÃœKLENME HATASI KONTROLÃœ
                const testImg = new Image();
                testImg.src = imgURL;
                testImg.onerror = () => {
                    document.getElementById('status-msg').innerText = "BazÄ± gÃ¶rseller indirilemedi, lÃ¼tfen internetinizi kontrol edin.";
                };

                card.onclick = () => card.classList.toggle('flipped');
                board.appendChild(card);
            });
        }

        // Ä°nternet anlÄ±k giderse uyar
        window.addEventListener('offline', checkConnection);
    </script>
</body>
</html>
